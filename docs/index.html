<!DOCTYPE html>
<html>
    <head>
        <title>PostgreSQL</title>


<style>
.dropbtn {
  background-color: #3498DB;
  color: white;
  padding: 16px;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

.dropbtn:hover, .dropbtn:focus {
  background-color: #2980B9;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  overflow: auto;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown a:hover {background-color: #ddd;}
.select-wrapper {
     background-color: #3498DB;
      font-size: 26px;
      width: 200px;
    }
.show {display: block;}
</style>
  <link rel="stylesheet" type="text/css" href="css/w2ui.css" />
  <script src="js/jquery.js"></script>
  <script type="text/javascript" src="js/w2ui.js"></script>

</head>
    <body>
<span></span>

<div id="layout" style="width: 100%; height: 900px;"></div>

<script>
<!-- LAYOUT -->
$(function () {
    var pstyle = 'border: 1px solid #dfdfdf; padding: 5px;';
    $('#layout').w2layout({
        name: 'layout',
        panels: [
            { type: 'top', size: 400, style: pstyle, content: '<div id="myGrid" style="height: 700px"></div>' },
            { type: 'bottom', size: 500, style: pstyle, content: '<iframe id="metadata" src="" height="100%" width="100%"></iframe>' }
        ]
    });
});



var data_from_ajax;

$("document").ready(function(){

  $.getJSON('persons.json', function(obj) {
  
  if (w2ui['myGrid'] != null) {
  w2ui['myGrid'].destroy();
  
  };  
  $('#myGrid').w2grid({ 
    name   : 'myGrid', 
    show: { 
            lineNumbers: true,
            toolbar: true,
            footer: true
    },
    multiSearch: true,
    searches: obj[0],
    columns: obj[1],
    records: obj[2],
    onSelect: function (target, eventData) {
	   
            obj=eventData.recid;
            loadMetadata(obj);
	    return eventData;
        }
       });   
    
    });


function loadMetadata(obj)
{
      alert(obj)
      //document.getElementById('metadata').setAttribute('src', "http://repositorytest.ancient-astronomy.org/collection/PROM/object/"+obj);
};

event.preventDefault();
});


</script>
<div></div>
</body>
</html>



